-- [Wizard's Library]
local Players = game:GetService("Players")
local player = game.Players.LocalPlayer
local userInputService = game:GetService("UserInputService")
local teams = game:GetService("Teams")
local runService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local userId = Players:GetUserIdFromNameAsync("ihalknsohan99992")
local thumbType = Enum.ThumbnailType.HeadShot
local thumbSize = Enum.ThumbnailSize.Size420x420
local content, isReady = Players:GetUserThumbnailAsync(userId, thumbType, thumbSize)
local Library = loadstring(Game:HttpGet("https://raw.githubusercontent.com/bloodball/-back-ups-for-libs/main/wizard"))()
 
-- [Window/Tab/Section]
local Window = Library:NewWindow("Bubu tools")
local Section = Window:NewSection("Player")

-- Killbrick
function setupGodmode()
    for _, part in pairs(workspace:GetDescendants()) do
        if part:IsA("BasePart") then
            if string.find(part.Name:lower(), "kill") or string.find(part.Name:lower(), "lava") or part.Material == Enum.Material.Neon then
                part.CanTouch = false
                part.CanCollide = true
                part.Transparency = 0.5
            end
        end
    end
end

function revertGodmode()
    for _, part in pairs(workspace:GetDescendants()) do
        if part:IsA("BasePart") then
            if string.find(part.Name:lower(), "kill") or string.find(part.Name:lower(), "lava") or part.Material == Enum.Material.Neon then
                part.CanTouch = true
                part.CanCollide = true
                part.Transparency = 0
            end
        end
    end
end

-- Esp
local espEnabled = false
local espObjects = {}
local function applyESP(character)

    if character and character:FindFirstChild("HumanoidRootPart") then
        local highlight = Instance.new("Highlight", character)
        highlight.FillTransparency = 0.5
        highlight.OutlineTransparency = 0
        highlight.OutlineColor = Color3.fromRGB(255, 255, 255)

        local billboard = Instance.new("BillboardGui", character)
        billboard.Adornee = character:FindFirstChild("Head")
        billboard.Size = UDim2.new(0, 200, 0, 50)
        billboard.StudsOffset = Vector3.new(0, 2, 0)
        billboard.AlwaysOnTop = true

        local textLabel = Instance.new("TextLabel", billboard)
        textLabel.Size = UDim2.new(1, 0, 1, 0)
        textLabel.BackgroundTransparency = 1
        textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        textLabel.Font = Enum.Font.GothamBold
        textLabel.TextSize = 14
        textLabel.TextStrokeTransparency = 0.5
        textLabel.Text = "Loading..."
        espObjects[character] = {highlight, billboard, textLabel}
    end
end

local function updateESP()
    for _, plr in pairs(game.Players:GetPlayers()) do

        if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            local char = plr.Character
            local rootPart = char:FindFirstChild("HumanoidRootPart")
            local humanoid = char:FindFirstChild("Humanoid")
            local espData = espObjects[char]

            if rootPart and humanoid and espData then
                local distance = (rootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude
                local teamName = plr.Team and plr.Team.Name or "No Team"
                local health = math.floor(humanoid.Health)
                local maxHealth = math.floor(humanoid.MaxHealth)
                espData[3].Text = string.format("%s | %.1fm | %d/%d HP | %s", teamName, distance, health, maxHealth, plr.Name)
            end
        end
    end
end

local function refreshESP()
    for _, data in pairs(espObjects) do
        for _, obj in pairs(data) do
            obj:Destroy()
        end
    end

    espObjects = {}

    for _, plr in pairs(game.Players:GetPlayers()) do
        if plr ~= player and plr.Character then
            applyESP(plr.Character)
        end
    end
end

function toggleESP()
    espEnabled = not espEnabled

    if espEnabled then
        refreshESP()

        runService.RenderStepped:Connect(function()
            if espEnabled then
                updateESP()
            end
        end)
    else
        for _, data in pairs(espObjects) do
            for _, obj in pairs(data) do
                obj:Destroy()
            end
        end
        espObjects = {}
    end
end

Section:CreateToggle("Killbrick", function(Kill)
   local On2 = Kill
if On2 == true then
    setupGodmode()
elseif On2 == false then
    revertGodmode()
end
end)

Section:CreateToggle("Esp", function(ESP)
   local On = ESP
if On == true then
    toggleESP()
elseif On == false then
    toggleESP()
end
end)

Section:CreateButton("FPS Boost", function()
loadstring(game:HttpGet("https://pastefy.app/Uu0LK378/raw"))();
end)

Section:CreateButton("Anti-Bang", function()
loadstring(game:HttpGet("https://pastefy.app/EYXzo3lX/raw"))();
end)

Section:CreateTextbox("Set WalkSpeed", function(Set)
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = (Set)
end)

Section:CreateTextbox("Set JumpPower", function(Set)
        game.Players.LocalPlayer.Character.Humanoid.JumpPower = (Set)
end)

local Section = Window:NewSection("Script")
Section:CreateButton("Free Cam", function()
loadstring(game:HttpGet("https://pastefy.app/Wfyo44ZS/raw"))();
end)

Section:CreateButton("Smooth Fly", function()
loadstring(game:HttpGet("https://pastebin.com/raw/8HR1w6Pp"))();
end)

Section:CreateButton("Better Walk-Fling", function()
loadstring(game:HttpGet("https://pastefy.app/Vf5POrA6/raw"))()
end)

Section:CreateButton("Fling gui", function()
loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Fling-gui-troll-17597"))()
end)

Section:CreateButton("Spectate gui", function()
loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Natural-Disasters-Spectate-gui-17403"))()
end)

Section:CreateButton("Simple Hit-Box gui", function()
loadstring(game:HttpGet("https://pastefy.app/ItfO0tdg/raw"))()
end)

local Section = Window:NewSection("Tools")
getgenv().SelectedOption = nil

function Select()
   if getgenv().SelectedOption == "P.TpTool" then
      loadstring(game:HttpGet("https://pastefy.app/OsnRSpEA/raw"))();
   elseif getgenv().SelectedOption == "TpTool" then
      loadstring(game:HttpGet("https://pastefy.app/BRd8i86J/raw"))();
   elseif getgenv().SelectedOption == "Fire Part" then
      loadstring(game:HttpGet("https://pastefy.app/9VqXbSoC/raw"))();
   elseif getgenv().SelectedOption == "M.Tools" then
      loadstring(game:HttpGet("https://pastefy.app/MAhHb1Ia/raw"))();
   end
end

Section:CreateDropdown("Select Tool", {"P.TpTool", "TpTool", "Fire Part", "M.Tools"}, 1, function(Option)
   getgenv().SelectedOption = Option
   Select()
end)

Section:CreateButton("Tool Giver", function()
loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Tool-Giver-Script-by-skondo-42842"))()
end)

-- [Hub/Gui]
local Section = Window:NewSection("Hub/Gui")
Section:CreateButton("Hit-Box Gui", function()
loadstring(game:HttpGet("https://raw.githubusercontent.com/Vcsk/RobloxScripts/main/HitboxExpander.lua"))()
end)

Section:CreateButton("Reach Gui v3", function()
loadstring(game:HttpGet("https://pastebin.com/raw/wTw3sJZK"))();
end)

Section:CreateButton("F3X Gui", function()
loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Average-F3X-Gui-38529"))()
end)

Section:CreateButton("MinhNhat Hub", function()
loadstring(game:HttpGet("https://raw.githubusercontent.com/minhnhatdepzai8-cloud/TONG-HOP-SCRIPT/refs/heads/main/TSB"))()
end)

-- [creator]
if isReady then
    StarterGui:SetCore("SendNotification", {
        Title = "Made by BUBU",
        Text = "Bubu tools",
        Icon = content,
        Duration = 10
    })
end
