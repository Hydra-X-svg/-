--[[
getgenv().enabled=true
getgenv().uselocalplayer=false
loadstring(game:HttpGet("https://raw.githubusercontent.com/Vcsk/RobloxScripts/main/Highlight-ESP.lua"))()
]]

local holder=game.CoreGui:FindFirstChild("ESPHolder") or Instance.new("Folder")
if enabled==false then
 holder:Destroy()
end

if holder.Name=="Folder" then
 holder.Name="ESPHolder"
 holder.Parent=game.CoreGui
end

if uselocalplayer==false and holder:FindFirstChild(game.Players.LocalPlayer.Name) then
 holder:FindFirstChild(game.Players.LocalPlayer.Name):Destroy()
end

if getgenv().enabled==true then 
 getgenv().enabled=false
 getgenv().enabled=true
end

game:GetService("RunService").Heartbeat:Connect(function()
 if getgenv().enabled then
  task.wait()
  for _,v in pairs(game.Players:GetChildren()) do
   local chr=v.Character
   if chr~=nil then
    local esp=holder:FindFirstChild(v.Name) or Instance.new("Highlight")
    esp.Name=v.Name
    if uselocalplayer==false and esp.Name==game.Players.LocalPlayer.Name then
    else
    esp.Parent=holder
    esp.FillColor=v.TeamColor.Color
    esp.OutlineColor=v.TeamColor.Color
    esp.FillTransparency=0.9
    esp.OutlineTransparency=0
    esp.Adornee=chr
    esp.DepthMode=Enum.HighlightDepthMode.AlwaysOnTop
   end
  end
 end
end
end)